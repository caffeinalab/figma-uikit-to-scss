var parcelRequire=function(e,t,s,i){var o,n="function"==typeof parcelRequire&&parcelRequire,r="function"==typeof require&&require;function a(s,i){if(!t[s]){if(!e[s]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(s,!0);if(n)return n(s,!0);if(r&&"string"==typeof s)return r(s);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}l.resolve=function(t){return e[s][1][t]||t},l.cache={};var c=t[s]=new a.Module(s);e[s][0].call(c.exports,l,c,c.exports,this)}return t[s].exports;function l(e){return a(l.resolve(e))}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=e,a.cache=t,a.parent=n,a.register=function(t,s){e[t]=[function(e,t){t.exports=s},{}]};for(var u=0;u<s.length;u++)try{a(s[u])}catch(e){o||(o=e)}if(s.length){var c=a(s[s.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}if(parcelRequire=a,o)throw o;return a}({msu8:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=e("../config");s.default=class{constructor(e,t){this.settings=t,this.type=e,this.data={},this.selector=this.getSelector(),this.refSelector=this.getRefSelector()}getSelector(){const{uikit_prefix:e,uikit_separator:t}=this.settings;return e+t+this.settings["uikit_"+this.type]+t}getRefSelector(){const{uikit_prefix:e,uikit_separator:t,uikit_ref_node:s}=this.settings;return e+t+s}splitName(e){const t={name:"",breakpoint:!1,state:!1};return e.replace(this.selector,"").split(this.settings.uikit_separator).some(e=>{if(i.uiBreakPoints.includes(e))return t.breakpoint=e,!0;i.componentStates.includes(e)?t.state=e:(t.name.length>0&&(t.name+="-"),t.name+=e)}),t}removeEqualProperties(e,t,s=!1){let i={};return s?s.forEach(t=>{i=Object.assign(i,e[t]||{})}):i=e,Object.keys(t).forEach(e=>{i&&t[e]===i[e]&&delete t[e]}),t}removeDuplicates(e){return Object.keys(e).forEach(t=>{if(i.componentStates.includes(t)){if(e[t]=this.removeDuplicates(e[t]),i.componentStates.findIndex(e=>t===e)>0){let s={};i.uiBreakPoints.forEach(o=>{s=Object.assign(s,e[i.componentStates[0]]&&e[i.componentStates[0]][o]?e[i.componentStates[0]][o]:{}),e[t][o]&&(e[t][o]=this.removeEqualProperties(s,e[t][o]))})}}else if(i.uiBreakPoints.includes(t)){const s=i.uiBreakPoints.findIndex(e=>t===e);s>0&&(e[t]=this.removeEqualProperties(e,e[t],i.uiBreakPoints.slice(0,s)))}else"object"==typeof e[t]&&(e[t]=this.removeDuplicates(e[t]))}),e}getData(){return this.data}addNodes(e){e.forEach(e=>this.addNode(e)),this.data=this.removeDuplicates(this.data)}addNode(e){if(e.name.indexOf(this.selector)<0)return;const{name:t,breakpoint:s,state:i}=this.splitName(e.name),o=this.processNode(e,this.refSelector);this.data[t]||(this.data[t]={}),i&&s?(this.data[t][i]||(this.data[t][i]={}),this.data[t][i][s]=o):s?this.data[t][s]=o:this.data[t]=o}processNode(e){}}},{"../config":"Q8Kd"}],a6nD:[function(e,t,s){"use strict";function i(e){var t=Number(~~e).toString(16);return t.length<2&&(t="0"+t),t}function o(e){return"#"+i(255*e.r)+i(255*e.g)+i(255*e.b)}function n(e){if(Array.isArray(e)&&0!==e.length){const t=r(e);return 1===t?o(e[0].color):`rgba(${e[0].color.r},${e[0].color.g},${e[0].color.b},${t})`}return"inherit"}function r(e){return Array.isArray(e)&&0!==e.length?~~(100*e[0].opacity)/100:1}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default={getValue:function(e,t=!1){return"AUTO"===e.unit?t:"PERCENT"===e.unit?e.value/100+"em":`rem(${e.value}px)`},getFontWeight:function(e){return e.indexOf("Thin")>=0?100:e.indexOf("Light")>=0?300:e.indexOf("Regular")>=0?400:e.indexOf("Medium")>=0?500:e.indexOf("Bold")>=0?700:e.indexOf("Black")>=0?800:400},getFontStyle:function(e){return e.indexOf("Italic")<0?"normal":"italic"},getTextTransform:function(e){return"ORIGINAL"==e?"none":"UPPER"==e?"uppercase":"LOWER"==e?"lowercase":"TITLE"==e?"capitalize":"none"},intToHex:i,rgbToHex:o,getColor:n,getOpacity:r,getPadding:function(e){return e.verticalPadding===e.horizontalPadding?`rem(${e.verticalPadding||0}px)`:`rem(${e.verticalPadding||0}px ${e.horizontalPadding||0}px)`},getBorder:function(e){if(e.strokes.length&&"SOLID"===e.strokes[0].type){const t=n(e.strokes);return`rem(${e.strokeWeight}px) ${e.dashPattern.length>0?"dashed":"solid"} ${t}`}return"none"},getBorderRadius:function(e){return e.topLeftRadius&&e.topRightRadius&&e.bottomLeftRadius&&e.bottomRightRadius?`rem(${e.topLeftRadius}px)`:e.topLeftRadius===e.bottomRightRadius&&e.topRightRadius===e.bottomLeftRadius?`rem(${e.topLeftRadius}px ${e.topRightRadius}px)`:`rem(${e.topLeftRadius}px ${e.topRightRadius}px ${e.bottomRightRadius}px ${e.bottomLeftRadius}px)`}}},{}],uq2Z:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=n(e("./base")),o=n(e("../utils/normalize-values"));function n(e){return e&&e.__esModule?e:{default:e}}const{getValue:r,getFontWeight:a,getFontStyle:u,getTextTransform:c,getColor:l}=o.default;s.default=class extends i.default{processNode(e){const t={};return t["font-family"]=`'${e.fontName.family}'`,t["font-size"]=`rem(${e.fontSize}px)`,t["font-style"]=u(e.fontName.style),t["font-weight"]=a(e.fontName.style),t["line-height"]=r(e.lineHeight,1.2),t["letter-spacing"]=r(e.letterSpacing,0),t["text-transform"]=c(e.textCase),t.color=l(e.fills),t}}},{"./base":"msu8","../utils/normalize-values":"a6nD"}],AP2A:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=n(e("./base")),o=n(e("../utils/normalize-values"));function n(e){return e&&e.__esModule?e:{default:e}}const{getColor:r}=o.default;s.default=class extends i.default{processNode(e){return r(e.fills)}}},{"./base":"msu8","../utils/normalize-values":"a6nD"}],Mp2M:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=function e(t,s){if(t.name==s)return t;if(null!=t.children){var i,o=null;for(i=0;null==o&&i<t.children.length;i++)o=e(t.children[i],s);return o}return null}},{}],rbNd:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=r(e("./base")),o=r(e("../utils/normalize-values")),n=r(e("../utils/traverse-node"));function r(e){return e&&e.__esModule?e:{default:e}}const{getColor:a,getBorder:u,getBorderRadius:c,getPadding:l}=o.default;s.default=class extends i.default{processNode(e,t){const s={},i=(0,n.default)(e,t)||e;if(e.children&&e.children.length){const t=e.children.find(e=>e.visible&&e.fills.length>0);t&&(s.color=a(t.fills))}return s.opacity=Math.round(100*i.opacity)/100,s.padding=l(i),s.border=u(i),s["border-radius"]=c(i),s["background-color"]=a(i.backgrounds),s}}},{"./base":"msu8","../utils/normalize-values":"a6nD","../utils/traverse-node":"Mp2M"}],Q8Kd:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.exportDependencies=s.processors=s.componentStates=s.uiBreakPoints=void 0;var i=r(e("./processors/typo")),o=r(e("./processors/palette")),n=r(e("./processors/component"));function r(e){return e&&e.__esModule?e:{default:e}}s.uiBreakPoints=["mobile","tablet","desktop"];s.componentStates=["default","hover","disabled","focus","value","placeholder","success","error"],s.processors={palette:o.default,typos:i.default,components:n.default};s.exportDependencies={typos:"palette",components:"palette"}},{"./processors/typo":"uq2Z","./processors/palette":"AP2A","./processors/component":"rbNd"}],mmvf:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.objToSassMap=void 0;const i=function(e,t="$"){let s=[];return Object.keys(e).sort().forEach(o=>{if(Array.isArray(e[o]))s.push(`"${t}${o}": (\n${e[o].join(", \n")}\n)`);else if("object"==typeof e[o]){const n=i(e[o],t+o+"-").join(",\n");n.length&&s.push(n)}else s.push(`"${t}${o}": ${e[o]}`)}),s};s.objToSassMap=function(e,t){let s=`$${t}: (\n`;return s+=i(e,"").join(",\n"),s+"\n);\n"}},{}],twpj:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.sendToMain=s.sendToUI=void 0;s.sendToUI=function(e){figma.ui.postMessage(e)};s.sendToMain=function(e){parent.postMessage({pluginMessage:e},"*")}},{}],QjqH:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=e("../config"),o=e("../utils/obj-to-sass"),n=e("../utils/communication");s.default=class{constructor(e){this.processors={},this.settings=e,this.processorsTypes=Object.keys(i.processors),this.initProcessors(),this.process(),this.downloadFile()}initProcessors(){this.processorsTypes.forEach(e=>{this.processors[e]=new i.processors[e](e,this.settings)})}process(){const{uikit_prefix:e,pages:t}=this.settings;figma.root.children.filter(({id:e})=>t.includes(e)).forEach(t=>{const s=t.findAll(t=>t.name.indexOf(e)>=0);this.processorsTypes.forEach(e=>this.processors[e].addNodes(s))})}prepareFile(){let e="";return this.processorsTypes.forEach(t=>{const s=i.exportDependencies[t],n=this.processors[t].getData();let r="";r+=`// ${t.toUpperCase()} \n`,r+=(0,o.objToSassMap)(n,this.settings["sass_"+t]),r+="\n",s&&Object.entries(this.processors[s].getData()).forEach(([e,t])=>{r=r.replace(new RegExp(t,"g"),`map-get($${this.settings["sass_"+s]}, "${e}")`)}),e+=r}),e}downloadFile(){(0,n.sendToUI)({type:"saveFile",data:{fileName:this.settings.uikit_filename,content:this.prepareFile()}})}}},{"../config":"Q8Kd","../utils/obj-to-sass":"mmvf","../utils/communication":"twpj"}],sjH4:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.saveSettings=s.getSettings=void 0;const i={uikit_filename:"uikit.scss",uikit_prefix:"@uikit",uikit_separator:"-",uikit_palette:"palette",uikit_typos:"typo",uikit_components:"component",uikit_ref_node:"ref",sass_palette:"colors",sass_typo:"typographyVariables",sass_components:"componentsVariables"};s.getSettings=async function(){try{return await figma.clientStorage.getAsync("uikit-to-scss")}catch(e){return i}};s.saveSettings=async function(e){try{await figma.clientStorage.setAsync("uikit-to-scss",e)}catch(e){console.log("[DesignSystemExporter] Impossible to save settings",e)}return!0}},{}],fcmK:[function(e,t,s){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./exporter")),o=e("./settings"),n=e("./utils/communication");!async function(){const e=await(0,o.getSettings)(),t=figma.root.children.map(e=>({id:e.id,name:e.name}));figma.showUI(__html__,{width:400,height:400}),figma.ui.onmessage=s=>{switch(s.type){case"ready":(0,n.sendToUI)({type:"initialData",data:{settings:e,pages:t}});break;case"export":new i.default(s.data),(0,o.saveSettings)(s.data);break;case"quit":figma.closePlugin("File saved")}}}()},{"./exporter":"QjqH","./settings":"sjH4","./utils/communication":"twpj"}]},{},["fcmK"]);